{
  "$schema": "http://json-schema.org/draft-07/schema",
  "definitions": {
    "entities": {
      "definitions": {
        "Creature": {
          "description": "A creature",
          "const": "Creature"
        }
      }
    },
    "entityVal": {
      "type": "string",
      "oneOf": [
        { "$ref": "#/definitions/entities/definitions/Creature" }
      ]
    },
    "contextName": {
      "type": "string",
      "minLength": 1,
      "maxLength": 60,
      "pattern": "(^[a-z]|[A-Z0-9])[a-z]*$",
      "description": "The name for the context. Used as a parameter name in the method to fetch the realm property from C#"
    },
    "contextObj": {
      "type": "object",
      "properties": {
        "name": { "$ref": "#/definitions/contextName" },
        "entity": { "$ref": "#/definitions/entityVal" },
        "required": {
          "type": "boolean",
          "default": true,
          "description": "If true, a context is required when fetching this realm property."
        },
        "description": {
          "type": "string",
          "description": "A description for the context, to be shown in code docs when using the property"
        }
      },
      "required": [ "name", "entity" ],
      "additionalProperties": false
    },
    "contextDecl": {
      "default": { },
      "oneOf": [
        { "$ref": "#/definitions/contextObj" },
        { "$ref": "#/definitions/entityVal" }
      ]
    },
    "shortContexts": {
      "type": "object",
      "additionalProperties": { "$ref": "#/definitions/entityVal" }
    }
  },
  "oneOf": [
    { "const": false },
    { "$ref": "#/definitions/shortContexts" },
    { "type": "array", "items": { "$ref": "#/definitions/contextObj" } }
  ]
}